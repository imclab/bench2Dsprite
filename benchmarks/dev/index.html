<body>
	<script src="../vendor/requestanimationframe.js"></script>
	<script src="../vendor/Stats.js"></script>
	<script src="../vendor/gowiththeflow.js"></script>
	<script src="../vendor/jquery.js"></script>

	<!--[if lte IE 8]><script src="../vendor/excanvas.min.js"></script><![endif]-->
	<script src="../vendor/jquery.js"></script>
	<script src="../vendor/jquery.flot.js"></script>

	<script src="../assets/js/utils.js"></script>
	<link	href="../assets/css/utils.css" rel="stylesheet"></link>

	<script src="./bench-canvas.js"></script>
	<script src="./bench-div.js"></script>

	<script>
		var graphDiv	= document.createElement("div");  
		graphDiv.style.float	= "left";
		graphDiv.style.width	= 320;
		graphDiv.style.height	= 240;
		document.body.appendChild(graphDiv);

		var graphCanvas	= document.createElement("div");  
		graphCanvas.style.float	= "left";
		graphCanvas.style.width	= 320;
		graphCanvas.style.height= 240;
		document.body.appendChild(graphCanvas);


		Flow().seq(function(next){
			next();
			return;
			benchDiv(function(results){
				console.log(results);
				// build the points to draw
				var points	= [];
				var maxRate	= -Infinity;
				results.forEach(function(result){
					points.push([result.nImages, result.imagesRate/30]);
					maxRate	= Math.max(result.imagesRate/30, maxRate);
				});
				jQuery.plot(graphDiv, [{
					label	: "Div - max : "+Math.floor(maxRate),
					bars	: { show: true },
					data	: points
				}]);
				next();
			});
		}).seq(function(next){
			benchCanvas(function(results){
				console.log(results);
				
				// build the points to draw
				var points	= [];
				var maxRate	= -Infinity;
				results.forEach(function(result){
					points.push([result.nImages, result.imagesRate/30]);
					maxRate	= Math.max(result.imagesRate/30, maxRate);
				});
				jQuery.plot(graphCanvas, [{
					label	: "Canvas - max : "+Math.floor(maxRate),
					bars	: { show: true },
					data	: points
				}]);
				next();
			});
		})

	</script>
</body>