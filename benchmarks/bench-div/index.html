<body>
	<script src="../vendor/requestanimationframe.js"></script>
	<script src="../vendor/Stats.js"></script>
	<script src="../assets/js/utils.js"></script>
	<link	href="../assets/css/utils.css" rel="stylesheet"></link>
	<script>
		function benchOneDiv(nImages, nSeconds, callback){
			var images	= [];
			for(var i = 0; i < nImages; i++){
				var element	= document.createElement('div');
				element.classList.add("sprite-logo128");
				element.style.position	= "absolute";
				document.body.appendChild(element);
				images.push(element);
			};
	
			var timeStart	= Date.now();
			var nFrame	= 0;
			requestAnimationFrame(anim);
			function anim(){
				var deltaSeconds= (Date.now() - timeStart)/1000
				if( deltaSeconds > nSeconds && timeStart ){
					console.log("nFrame", nFrame);
					console.log("nImages", nImages);
					console.log("deltaSeconds", deltaSeconds);
					var imageSecond	= (nFrame*nImages)/deltaSeconds;
					callback && callback(imageSecond, nFrame, nImages);
					return;
				}

				requestAnimationFrame(anim);

				var speed	= Date.now()/10;
				for(var i = 0; i < nImages; i++){
					var image	= images[i];
					image.style.left= Math.floor(speed+i)*3	% 900;
					image.style.top	= Math.floor(speed+i)	% 400;
				}
				nFrame++;
			}			
		}
		benchOneDiv(2000,5,function(imagesSeconds, nFrame, nImages){
			console.log(imagesSeconds, imagesSeconds/30)
		});
	</script>
</body>